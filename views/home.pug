extends layout

block content
  if currentUser
    if success != ""
      h2.success= success
    div.container.mt-5
      h1.main-heading.mb-3 Most Recent Posts  
      div(class="post-box")
        each post in posts
          div(class="post-card")
            div(class="post-header")
              h2.post-title.mb-2= post.title
              if post.author.id == currentUser.id
                h3(class="post-author") Posted by You on #{post.niceDate}
              else 
                h3(class="post-author") Posted by #{post.author.name} on #{post.niceDate}
            div(class="post-body")
              p.post-content= post.content
            div.post-footer
              if post.author.id == currentUser.id
                a(href=post.url + "/update" class="update-post") Update 
                a(href=post.url + "/delete" class="delete-post") Delete
                if post.updated
                  p.last-updated Last updated on #{post.niceUpdated}
        a(href="posts/create" class="new-post") New Post +
  else
    div.welcome-mat
      h1.welcome-heading Talkin' Trash
      h2.welcome-sub-heading People are always talking, maybe even about you!
      img(src="images/pngguru.com.png" class="welcome-img" alt="cartoon racoon")
      a(href="/users/signup" class="welcome-button") Sign Up
    div.container
      div.row.mt-5
        div.col-md
          h2.sub-heading Talk Trash
          p.trio-content Everyone loves talking about other people! Its always better when you can do it without the reprecussions of seeing them face to face.
        div.col-md
          h2.sub-heading Membership
          p.trio-content You are able to upgrade your membership to see who is posting and when. What good is silly fun without paywalls to seperate users and make others feel superior?
        div.col-md
          h2.sub-heading Membership
          p.trio-content You are able to upgrade your membership to see who is posting and when. What good is silly fun without paywalls to seperate users and make others feel superior?
      h1.main-heading.mt-5 Here's what some members have been saying!
      div.post-box.mt-3
        each post in smallPosts
          div.post-card
            div.post-header
              h1.post-title.mb-2= post.title
              h3.post-author Posted by ???? on ????
            div.post-body
              p.post-content= post.content
    div.welcome-footer.mt-5
      h1.main-heading Become a part of something and start talkin' some trash!
      a(href="/users/signup" class="welcome-button") Sign Up

