extends layout

block content
  div.container
    if success != ""
      h2.success= success
    div.row.mt-5
      div.col-lg-5
        div.profile-container
          header.profile-header
            h2.profile-name #{currentUser.name}
          main.profile-info
            h2.profile-info-item Email: #{currentUser.email}
            if currentUser.isMember == true
              h2.profile-info-item Membership: Treasure
            else 
              h2.profile-info-item Membership: Trash
            h2.profile-info-item Total Posts: #{count}
            a(href=currentUser.url + "/update" class="profile-info-button") Change Email/Name
            a(href=currentUser.url + "/password" class="profile-info-button") Change Password
      if posts != ""
        div.profile-posts.col-lg-7
          each post in posts
            div(class="post-card")
              header(class="post-header")
                h2.post-title.mb-2= post.title
                h3(class="post-author") Posted by you on #{post.niceDate}
              main(class="post-body")
                p.post-content= post.content
              footer.post-footer
                a(href=post.url + "/update" class="update-post") Update 
                a(href=post.url + "/delete" class="delete-post") Delete
                if post.updated
                  p.last-updated Last updated on #{post.niceUpdated}
        a(href="/posts/create" class="new-post") New Post +
      else 
        div.no-posts
          h2.sub-heading No Posts Yet
          a(href="/posts/create" class="welcome-button") Create New Post
  